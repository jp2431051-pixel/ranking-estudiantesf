const a0_0x18ba37=a0_0x4fc4;(function(_0x327bc7,_0x335f2f){const _0x2a90ee=a0_0x4fc4,_0x47c4d3=_0x327bc7();while(!![]){try{const _0x531cab=parseInt(_0x2a90ee(0xd3))/0x1*(parseInt(_0x2a90ee(0xb1))/0x2)+parseInt(_0x2a90ee(0x82))/0x3*(-parseInt(_0x2a90ee(0xba))/0x4)+parseInt(_0x2a90ee(0xb0))/0x5+parseInt(_0x2a90ee(0x8c))/0x6+-parseInt(_0x2a90ee(0xc7))/0x7+parseInt(_0x2a90ee(0x95))/0x8*(parseInt(_0x2a90ee(0xb3))/0x9)+-parseInt(_0x2a90ee(0xab))/0xa;if(_0x531cab===_0x335f2f)break;else _0x47c4d3['push'](_0x47c4d3['shift']());}catch(_0x196d6a){_0x47c4d3['push'](_0x47c4d3['shift']());}}}(a0_0x428f,0x49763));const API_URL='https://ranking-estudiantesb.onrender.com/api/students';let allStudents=[];async function loadStudents(){const _0x684b66=await fetch(API_URL),_0x5d50ab=await _0x684b66['json']();allStudents=_0x5d50ab,showTop3ByGender(_0x5d50ab);}function showTop3ByGender(_0x5eee36){const _0x281f4e=a0_0x4fc4,_0x441faa=_0x5eee36[_0x281f4e(0x8f)](_0x142235=>_0x142235[_0x281f4e(0x84)]['toLowerCase']()===_0x281f4e(0xae)&&_0x142235[_0x281f4e(0x90)]>0x0)[_0x281f4e(0xbc)]((_0x5cc686,_0x504931)=>{const _0x19af97=_0x281f4e,_0x209d49=_0x5cc686[_0x19af97(0xbd)]/_0x5cc686[_0x19af97(0x90)],_0x3c46cc=_0x504931['ratingSum']/_0x504931['ratingCount'];if(_0x3c46cc===_0x209d49)return _0x504931[_0x19af97(0x90)]-_0x5cc686[_0x19af97(0x90)];return _0x3c46cc-_0x209d49;})[_0x281f4e(0x87)](0x0,0x3),_0x38c209=_0x5eee36[_0x281f4e(0x8f)](_0x5ed137=>_0x5ed137[_0x281f4e(0x84)][_0x281f4e(0xb7)]()==='mujer'&&_0x5ed137[_0x281f4e(0x90)]>0x0)[_0x281f4e(0xbc)]((_0x366906,_0x293246)=>{const _0xcce95e=_0x281f4e,_0x20b0a2=_0x366906[_0xcce95e(0xbd)]/_0x366906[_0xcce95e(0x90)],_0x35513e=_0x293246['ratingSum']/_0x293246['ratingCount'];if(_0x35513e===_0x20b0a2)return _0x293246['ratingCount']-_0x366906[_0xcce95e(0x90)];return _0x35513e-_0x20b0a2;})[_0x281f4e(0x87)](0x0,0x3),_0x2d90d9=document[_0x281f4e(0xc2)](_0x281f4e(0x7f)),_0x4660cc=document[_0x281f4e(0xc2)](_0x281f4e(0x93));_0x2d90d9[_0x281f4e(0xc9)]=_0x441faa['length']===0x0?_0x281f4e(0xbf):'',_0x4660cc[_0x281f4e(0xc9)]=_0x38c209[_0x281f4e(0x9f)]===0x0?_0x281f4e(0xad):'';if(_0x441faa['length']>0x0)displayStudents(_0x441faa,'topMen');if(_0x38c209['length']>0x0)displayStudents(_0x38c209,_0x281f4e(0x93));}function displayStudents(_0x11279,_0x4ffb0a){const _0x2a0c2d=a0_0x4fc4,_0x42014f=document[_0x2a0c2d(0xc2)](_0x4ffb0a);_0x42014f[_0x2a0c2d(0xc9)]='',_0x11279['forEach'](_0x4969f8=>{const _0xdd884c=_0x2a0c2d,_0x8d61fc=(_0x4969f8[_0xdd884c(0xbd)]/_0x4969f8[_0xdd884c(0x90)]||0x0)[_0xdd884c(0x7d)](0x2),_0x3c16c4=document[_0xdd884c(0xca)](_0xdd884c(0x96));_0x3c16c4[_0xdd884c(0xaf)]=_0xdd884c(0x81),_0x3c16c4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20<h3>'+_0x4969f8[_0xdd884c(0xcf)]+_0xdd884c(0x92)+_0x4969f8[_0xdd884c(0x80)]+_0xdd884c(0xd4)+_0x4969f8[_0xdd884c(0x9d)]+_0x4969f8[_0xdd884c(0x9e)]+_0xdd884c(0xbe)+_0x8d61fc+_0xdd884c(0xb8)+_0x4969f8[_0xdd884c(0x78)]+_0xdd884c(0xc8)+[0x1,0x2,0x3,0x4,0x5][_0xdd884c(0xd0)](_0x5d362f=>_0xdd884c(0x97)+_0x5d362f+_0xdd884c(0x86))[_0xdd884c(0x7c)]('')+_0xdd884c(0xac)+_0x4969f8[_0xdd884c(0x90)]+_0xdd884c(0xcd)+(_0x4969f8['ratingCount']===0x1?'z':_0xdd884c(0xc4))+_0xdd884c(0xbb)+(_0x4969f8[_0xdd884c(0x90)]===0x1?'':'n')+'\x20votado\x20por\x20este\x20estudiante</p>\x0a\x0a\x20\x20\x20\x20',_0x42014f['appendChild'](_0x3c16c4);}),_0x42014f[_0x2a0c2d(0xd1)](_0x2a0c2d(0xa0))[_0x2a0c2d(0xc3)](_0xdc23f7=>{_0xdc23f7['addEventListener']('click',_0x454479=>{const _0x9e2844=a0_0x4fc4;if(_0x454479['target'][_0x9e2844(0xc6)]==='SPAN'){const _0x2c7d98=parseInt(_0x454479[_0x9e2844(0x94)][_0x9e2844(0xa1)]['score']),_0x48d155=_0xdc23f7[_0x9e2844(0xa1)]['id'],_0x4670ae=_0xdc23f7['querySelectorAll'](_0x9e2844(0xa4));_0x4670ae['forEach'](_0x58890d=>{const _0x208524=_0x9e2844,_0x4a06f5=parseInt(_0x58890d[_0x208524(0xa1)][_0x208524(0xa5)]);_0x4a06f5<=_0x2c7d98?_0x58890d[_0x208524(0x8b)][_0x208524(0x89)](_0x208524(0x91)):_0x58890d[_0x208524(0x8b)]['remove'](_0x208524(0x91));}),setTimeout(()=>{const _0x31d260=_0x9e2844;confirm(_0x31d260(0xce)+_0x2c7d98+_0x31d260(0x85)+(_0x2c7d98>0x1?'s':'')+'.\x20¿Deseas\x20enviar\x20la\x20calificación?')&&rateStudent(_0x48d155,_0x2c7d98);},0x64);}});});}async function rateStudent(_0xcaf3a7,_0x36cd99){const _0x4d759b=a0_0x4fc4,_0x552066=Date[_0x4d759b(0x99)](),_0x37930d='lastGlobalVote',_0x23d3b8=_0x4d759b(0xcc),_0x10497b=localStorage[_0x4d759b(0xa2)](_0x37930d),_0x35348c=localStorage[_0x4d759b(0xa2)](_0x23d3b8),_0x4897de=allStudents[_0x4d759b(0x79)](_0x3d1847=>_0x3d1847[_0x4d759b(0x78)]===_0x35348c),_0x42cec9=_0x4897de?_0x4897de['name']:_0x4d759b(0x88);if(_0x10497b&&_0x552066-parseInt(_0x10497b)<0x3c*0x3c*0x3e8){const _0xda7464=Math['ceil']((0x3c*0x3c*0x3e8-(_0x552066-parseInt(_0x10497b)))/0xea60);alert(_0x4d759b(0xcb)+_0x42cec9+_0x4d759b(0xc1)+_0xda7464+_0x4d759b(0xb5));return;}localStorage[_0x4d759b(0xa6)](_0x37930d,_0x552066[_0x4d759b(0x9c)]()),localStorage[_0x4d759b(0xa6)](_0x23d3b8,_0xcaf3a7),await fetch(API_URL+'/'+_0xcaf3a7+'/rate',{'method':'POST','headers':{'Content-Type':_0x4d759b(0xb4)},'body':JSON[_0x4d759b(0x98)]({'rating':_0x36cd99})}),location[_0x4d759b(0xa9)]();}function shuffleArray(_0x2f8ba0){const _0x564aa8=a0_0x4fc4;return _0x2f8ba0[_0x564aa8(0xd0)](_0x19c3a6=>({'value':_0x19c3a6,'sort':Math[_0x564aa8(0xa3)]()}))[_0x564aa8(0xbc)]((_0x3f96f3,_0x5c414c)=>_0x3f96f3[_0x564aa8(0xbc)]-_0x5c414c[_0x564aa8(0xbc)])[_0x564aa8(0xd0)](({value:_0x19abbf})=>_0x19abbf);}function a0_0x4fc4(_0x1a09da,_0x2b08e2){const _0x428fde=a0_0x428f();return a0_0x4fc4=function(_0x4fc4b1,_0x51d286){_0x4fc4b1=_0x4fc4b1-0x77;let _0x4f4691=_0x428fde[_0x4fc4b1];return _0x4f4691;},a0_0x4fc4(_0x1a09da,_0x2b08e2);}function a0_0x428f(){const _0x2783fa=['La\x20primera\x20palabra\x20debe\x20tener\x20al\x20menos\x203\x20caracteres.','7235wCwRGJ','\x20-\x20Grupo:\x20','value','_id','find','filterName','Enter','join','toFixed','NFD','topMen','career','card','15bukqAA','DOMContentLoaded','gender','\x20estrella','\x22>&#9733;</span>','slice','este\x20estudiante','add','filteredResults','classList','3412776zbpNVO','keypress','Por\x20favor\x20escribe\x20al\x20menos\x20nombre\x20y\x20apellido\x20para\x20realizar\x20la\x20búsqueda.','filter','ratingCount','filled','</h3>\x0a\x20\x20\x20\x20\x20\x20<p>Carrera:\x20','topWomen','target','4620232IElxSW','div','<span\x20class=\x22star\x22\x20data-score=\x22','stringify','now','every','key','toString','grade','group','length','.stars','dataset','getItem','random','.star','score','setItem','includes','replace','reload','split','17846750Ncvsek','\x0a</div>\x0a\x20\x20\x20\x20\x20\x20<p\x20class=\x22vote-count\x22>','<p>No\x20hay\x20mujeres\x20con\x20votos\x20aún.</p>','hombre','className','2907150qaKpJq','142BzMCPs','<p>No\x20se\x20encontraron\x20estudiantes.</p>','9FxTStZ','application/json','\x20minuto(s)\x20para\x20volver\x20a\x20votar.','normalize','toLowerCase','\x20⭐</p>\x0a\x20\x20\x20\x20\x20\x20<p\x20class=\x22rating-hint\x22>⭐\x20Selecciona\x20la\x20cantidad\x20de\x20estrellas\x20para\x20calificar</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stars\x22\x20data-id=\x22','preventDefault','59764MTMHqq','\x20se\x20ha','sort','ratingSum','</p>\x0a\x20\x20\x20\x20\x20\x20<p>Promedio:\x20','<p>No\x20hay\x20hombres\x20con\x20votos\x20aún.</p>','trim','.\x20Espera\x20','getElementById','forEach','ces','addEventListener','tagName','568127qUNYSy','\x22>\x0a\x20\x20','innerHTML','createElement','Ya\x20votaste\x20por\x20','votedStudentId','\x20ve','Seleccionaste\x20','name','map','querySelectorAll'];a0_0x428f=function(){return _0x2783fa;};return a0_0x428f();}function normalizeString(_0x4ad396){const _0x2533e3=a0_0x4fc4;return _0x4ad396[_0x2533e3(0xb6)](_0x2533e3(0x7e))[_0x2533e3(0xa8)](/[\u0300-\u036f]/g,'')[_0x2533e3(0xb7)]();}function applyFilters(){const _0x4b4b9c=a0_0x4fc4,_0x37d43a=document[_0x4b4b9c(0xc2)](_0x4b4b9c(0x7a))['value'][_0x4b4b9c(0xc0)](),_0x27f72c=_0x37d43a[_0x4b4b9c(0xaa)](/\s+/)['filter'](_0x183552=>_0x183552[_0x4b4b9c(0x9f)]>0x0);if(_0x27f72c['length']<0x1){alert(_0x4b4b9c(0x8e));return;}if(_0x27f72c[0x0][_0x4b4b9c(0x9f)]<0x3){alert(_0x4b4b9c(0xd2));return;}const _0x1a97f9=allStudents[_0x4b4b9c(0x8f)](_0x509541=>{const _0x1a4a0b=_0x4b4b9c,_0x1f2311=normalizeString(_0x509541['name'])[_0x1a4a0b(0xaa)](/\s+/),_0x4ecabc=normalizeString(_0x37d43a)[_0x1a4a0b(0xaa)](/\s+/);return _0x4ecabc[_0x1a4a0b(0x9a)](_0x5c037a=>_0x1f2311['some'](_0x54385e=>_0x54385e[_0x1a4a0b(0xa7)](_0x5c037a)));}),_0x3091f2=shuffleArray(_0x1a97f9);_0x3091f2[_0x4b4b9c(0x9f)]===0x0?document[_0x4b4b9c(0xc2)]('filteredResults')['innerHTML']=_0x4b4b9c(0xb2):displayStudents(_0x3091f2,_0x4b4b9c(0x8a)),document['getElementById']('topMen')[_0x4b4b9c(0xc9)]='',document[_0x4b4b9c(0xc2)]('topWomen')[_0x4b4b9c(0xc9)]='';}function clearFilters(){const _0x2053bf=a0_0x4fc4;document[_0x2053bf(0xc2)](_0x2053bf(0x7a))[_0x2053bf(0x77)]='',document[_0x2053bf(0xc2)](_0x2053bf(0x8a))[_0x2053bf(0xc9)]='',showTop3ByGender(allStudents);}loadStudents(),window['addEventListener'](a0_0x18ba37(0x83),()=>{const _0x482858=a0_0x18ba37,_0x5eb0e2=document['getElementById'](_0x482858(0x7a));_0x5eb0e2&&_0x5eb0e2[_0x482858(0xc5)](_0x482858(0x8d),function(_0x2b5ab5){const _0x4bec8f=_0x482858;_0x2b5ab5[_0x4bec8f(0x9b)]===_0x4bec8f(0x7b)&&(_0x2b5ab5[_0x4bec8f(0xb9)](),applyFilters());});});