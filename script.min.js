function a0_0xaf7a(_0x1f94fc,_0x4aaf14){const _0x5718=a0_0x5718();return a0_0xaf7a=function(_0xaf7ace,_0x1b8ba4){_0xaf7ace=_0xaf7ace-0x144;let _0x127153=_0x5718[_0xaf7ace];return _0x127153;},a0_0xaf7a(_0x1f94fc,_0x4aaf14);}const a0_0x2e4b7e=a0_0xaf7a;(function(_0x44e2d0,_0x7ccc6e){const _0x8eda92=a0_0xaf7a,_0x3169d6=_0x44e2d0();while(!![]){try{const _0x31348c=parseInt(_0x8eda92(0x18a))/0x1*(-parseInt(_0x8eda92(0x160))/0x2)+-parseInt(_0x8eda92(0x180))/0x3*(-parseInt(_0x8eda92(0x150))/0x4)+-parseInt(_0x8eda92(0x18f))/0x5+-parseInt(_0x8eda92(0x146))/0x6*(parseInt(_0x8eda92(0x172))/0x7)+parseInt(_0x8eda92(0x144))/0x8+-parseInt(_0x8eda92(0x18b))/0x9+parseInt(_0x8eda92(0x164))/0xa;if(_0x31348c===_0x7ccc6e)break;else _0x3169d6['push'](_0x3169d6['shift']());}catch(_0x53324c){_0x3169d6['push'](_0x3169d6['shift']());}}}(a0_0x5718,0x3b592));const API_URL=a0_0x2e4b7e(0x179);function a0_0x5718(){const _0x2e1c33=['SPAN','querySelectorAll','_id','.\x20¿Deseas\x20enviar\x20la\x20calificación?','application/json','350872LOBWSn','ces','2250alNnsE','\x22>&#9733;</span>','includes','La\x20primera\x20palabra\x20debe\x20tener\x20al\x20menos\x203\x20caracteres.','ceil','filled','\x20estrella','find','some','length','8olkmoQ','now','hombre','replace','name','\x0a\x20\x20\x20\x20\x20\x20<h3>','add','mujer','este\x20estudiante','appendChild','\x20minuto(s)\x20para\x20volver\x20a\x20votar.','<p>No\x20hay\x20hombres\x20con\x20votos\x20aún.</p>','<p>No\x20se\x20encontraron\x20estudiantes.</p>','getElementById','createElement','split','2PvzuOA','gender','filterName','<span\x20class=\x22star\x22\x20data-score=\x22','11355420sdNsCe','forEach','filteredResults','\x0a</div>\x0a\x20\x20\x20\x20\x20\x20<p\x20class=\x22vote-count\x22>','map','addEventListener','.\x20Espera\x20','/rate','lastGlobalVote','ratingCount','Ya\x20votaste\x20por\x20','every','dataset','score','8939SRgfwH','innerHTML','getItem','classList','</h3>\x0a\x20\x20\x20\x20\x20\x20<p>Carrera:\x20','target','click','https://ranking-estudiantesb.onrender.com/api/students','topWomen','normalize','group','slice','toString','div','96540JxGkLh','ratingSum','sort','reload','className','.stars','votedStudentId','topMen','Seleccionaste\x20','json','172471yAALcf','367569mlUcZs','trim','toLowerCase','filter','1542420znxVCm','NFD','\x20votado\x20por\x20este\x20estudiante</p>\x0a\x0a\x20\x20\x20\x20','toFixed','random'];a0_0x5718=function(){return _0x2e1c33;};return a0_0x5718();}let allStudents=[];async function loadStudents(){const _0x550b8d=a0_0x2e4b7e,_0x2f9edc=await fetch(API_URL),_0x370f4d=await _0x2f9edc[_0x550b8d(0x189)]();allStudents=_0x370f4d,showTop3ByGender(_0x370f4d);}function showTop3ByGender(_0x30519e){const _0x38c8c4=a0_0x2e4b7e,_0x236302=_0x30519e[_0x38c8c4(0x18e)](_0x35392a=>_0x35392a[_0x38c8c4(0x161)]['toLowerCase']()===_0x38c8c4(0x152)&&_0x35392a[_0x38c8c4(0x16d)]>0x0)[_0x38c8c4(0x182)]((_0x2399ff,_0x21ecb2)=>{const _0x43d5ee=_0x38c8c4,_0x5618fc=_0x2399ff[_0x43d5ee(0x181)]/_0x2399ff['ratingCount'],_0x234058=_0x21ecb2['ratingSum']/_0x21ecb2['ratingCount'];return _0x234058-_0x5618fc;})[_0x38c8c4(0x17d)](0x0,0x3),_0x4f1cf6=_0x30519e[_0x38c8c4(0x18e)](_0x3f188f=>_0x3f188f[_0x38c8c4(0x161)][_0x38c8c4(0x18d)]()===_0x38c8c4(0x157)&&_0x3f188f[_0x38c8c4(0x16d)]>0x0)[_0x38c8c4(0x182)]((_0x44a45b,_0x5e6e6e)=>{const _0x2c2380=_0x38c8c4,_0x1840e2=_0x44a45b[_0x2c2380(0x181)]/_0x44a45b[_0x2c2380(0x16d)],_0x1595c2=_0x5e6e6e[_0x2c2380(0x181)]/_0x5e6e6e[_0x2c2380(0x16d)];return _0x1595c2-_0x1840e2;})['slice'](0x0,0x3),_0x1fd4bf=document[_0x38c8c4(0x15d)](_0x38c8c4(0x187)),_0x3a4da1=document['getElementById'](_0x38c8c4(0x17a));_0x1fd4bf['innerHTML']=_0x236302[_0x38c8c4(0x14f)]===0x0?_0x38c8c4(0x15b):'',_0x3a4da1[_0x38c8c4(0x173)]=_0x4f1cf6[_0x38c8c4(0x14f)]===0x0?'<p>No\x20hay\x20mujeres\x20con\x20votos\x20aún.</p>':'';if(_0x236302['length']>0x0)displayStudents(_0x236302,'topMen');if(_0x4f1cf6['length']>0x0)displayStudents(_0x4f1cf6,'topWomen');}function displayStudents(_0x689f9a,_0x8afcb5){const _0x55acc3=a0_0x2e4b7e,_0x546767=document['getElementById'](_0x8afcb5);_0x546767['innerHTML']='',_0x689f9a[_0x55acc3(0x165)](_0x3107a3=>{const _0x537561=_0x55acc3,_0x12ea11=(_0x3107a3['ratingSum']/_0x3107a3[_0x537561(0x16d)]||0x0)[_0x537561(0x192)](0x2),_0x446cab=document[_0x537561(0x15e)](_0x537561(0x17f));_0x446cab[_0x537561(0x184)]='card',_0x446cab[_0x537561(0x173)]=_0x537561(0x155)+_0x3107a3['name']+_0x537561(0x176)+_0x3107a3['career']+'\x20-\x20Grupo:\x20'+_0x3107a3['grade']+_0x3107a3[_0x537561(0x17c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20<p>Promedio:\x20'+_0x12ea11+'\x20⭐</p>\x0a\x20\x20\x20\x20\x20\x20<p\x20class=\x22rating-hint\x22>⭐\x20Selecciona\x20la\x20cantidad\x20de\x20estrellas\x20para\x20calificar</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stars\x22\x20data-id=\x22'+_0x3107a3[_0x537561(0x196)]+'\x22>\x0a\x20\x20'+[0x1,0x2,0x3,0x4,0x5][_0x537561(0x168)](_0x19b895=>_0x537561(0x163)+_0x19b895+_0x537561(0x147))['join']('')+_0x537561(0x167)+_0x3107a3[_0x537561(0x16d)]+'\x20ve'+(_0x3107a3[_0x537561(0x16d)]===0x1?'z':_0x537561(0x145))+'\x20se\x20ha'+(_0x3107a3[_0x537561(0x16d)]===0x1?'':'n')+_0x537561(0x191),_0x546767[_0x537561(0x159)](_0x446cab);}),_0x546767[_0x55acc3(0x195)](_0x55acc3(0x185))[_0x55acc3(0x165)](_0x3dd4c6=>{const _0x4cce45=_0x55acc3;_0x3dd4c6[_0x4cce45(0x169)](_0x4cce45(0x178),_0x3b0b0c=>{const _0x213c34=_0x4cce45;if(_0x3b0b0c[_0x213c34(0x177)]['tagName']===_0x213c34(0x194)){const _0x229cb9=parseInt(_0x3b0b0c[_0x213c34(0x177)][_0x213c34(0x170)][_0x213c34(0x171)]),_0x252f25=_0x3dd4c6['dataset']['id'],_0x3fa4aa=_0x3dd4c6[_0x213c34(0x195)]('.star');_0x3fa4aa[_0x213c34(0x165)](_0x55298b=>{const _0x1f2025=_0x213c34,_0x1f669c=parseInt(_0x55298b[_0x1f2025(0x170)]['score']);_0x1f669c<=_0x229cb9?_0x55298b[_0x1f2025(0x175)][_0x1f2025(0x156)]('filled'):_0x55298b[_0x1f2025(0x175)]['remove'](_0x1f2025(0x14b));}),setTimeout(()=>{const _0x80abd4=_0x213c34;confirm(_0x80abd4(0x188)+_0x229cb9+_0x80abd4(0x14c)+(_0x229cb9>0x1?'s':'')+_0x80abd4(0x197))&&rateStudent(_0x252f25,_0x229cb9);},0x64);}});});}async function rateStudent(_0x2aca30,_0x506c09){const _0x33f93a=a0_0x2e4b7e,_0x369725=Date[_0x33f93a(0x151)](),_0x36b668=_0x33f93a(0x16c),_0x5d39f8=_0x33f93a(0x186),_0x50e801=localStorage[_0x33f93a(0x174)](_0x36b668),_0x2a42ff=localStorage[_0x33f93a(0x174)](_0x5d39f8),_0x2d7a87=allStudents[_0x33f93a(0x14d)](_0x1dff4a=>_0x1dff4a['_id']===_0x2a42ff),_0x61c9e=_0x2d7a87?_0x2d7a87[_0x33f93a(0x154)]:_0x33f93a(0x158);if(_0x50e801&&_0x369725-parseInt(_0x50e801)<0x3c*0x3c*0x3e8){const _0x50c7b4=Math[_0x33f93a(0x14a)]((0x3c*0x3c*0x3e8-(_0x369725-parseInt(_0x50e801)))/0xea60);alert(_0x33f93a(0x16e)+_0x61c9e+_0x33f93a(0x16a)+_0x50c7b4+_0x33f93a(0x15a));return;}localStorage['setItem'](_0x36b668,_0x369725[_0x33f93a(0x17e)]()),localStorage['setItem'](_0x5d39f8,_0x2aca30),await fetch(API_URL+'/'+_0x2aca30+_0x33f93a(0x16b),{'method':'POST','headers':{'Content-Type':_0x33f93a(0x198)},'body':JSON['stringify']({'rating':_0x506c09})}),location[_0x33f93a(0x183)]();}function shuffleArray(_0x442bb2){const _0x5a403b=a0_0x2e4b7e;return _0x442bb2[_0x5a403b(0x168)](_0x1835df=>({'value':_0x1835df,'sort':Math[_0x5a403b(0x193)]()}))[_0x5a403b(0x182)]((_0x62ff4b,_0x195c1c)=>_0x62ff4b['sort']-_0x195c1c['sort'])['map'](({value:_0x23309d})=>_0x23309d);}function normalizeString(_0x1afca6){const _0x2fd688=a0_0x2e4b7e;return _0x1afca6[_0x2fd688(0x17b)](_0x2fd688(0x190))[_0x2fd688(0x153)](/[\u0300-\u036f]/g,'')['toLowerCase']();}function applyFilters(){const _0x3be549=a0_0x2e4b7e,_0x253021=document['getElementById']('filterName')['value'][_0x3be549(0x18c)](),_0x10d563=_0x253021['split'](/\s+/)[_0x3be549(0x18e)](_0x133a61=>_0x133a61[_0x3be549(0x14f)]>0x0);if(_0x10d563[_0x3be549(0x14f)]<0x1){alert('Por\x20favor\x20escribe\x20al\x20menos\x20nombre\x20y\x20apellido\x20para\x20realizar\x20la\x20búsqueda.');return;}if(_0x10d563[0x0][_0x3be549(0x14f)]<0x3){alert(_0x3be549(0x149));return;}const _0x5dc2e1=allStudents[_0x3be549(0x18e)](_0x1c3619=>{const _0x3b0e36=_0x3be549,_0x30c3cb=normalizeString(_0x1c3619['name'])[_0x3b0e36(0x15f)](/\s+/),_0x4876c1=normalizeString(_0x253021)['split'](/\s+/);return _0x4876c1[_0x3b0e36(0x16f)](_0x4f75c0=>_0x30c3cb[_0x3b0e36(0x14e)](_0xd02010=>_0xd02010[_0x3b0e36(0x148)](_0x4f75c0)));}),_0x4c6c3f=shuffleArray(_0x5dc2e1);_0x4c6c3f[_0x3be549(0x14f)]===0x0?document[_0x3be549(0x15d)]('filteredResults')[_0x3be549(0x173)]=_0x3be549(0x15c):displayStudents(_0x4c6c3f,_0x3be549(0x166)),document[_0x3be549(0x15d)](_0x3be549(0x187))[_0x3be549(0x173)]='',document[_0x3be549(0x15d)](_0x3be549(0x17a))['innerHTML']='';}function clearFilters(){const _0x2b5a31=a0_0x2e4b7e;document['getElementById'](_0x2b5a31(0x162))['value']='',document[_0x2b5a31(0x15d)](_0x2b5a31(0x166))[_0x2b5a31(0x173)]='',showTop3ByGender(allStudents);}loadStudents();